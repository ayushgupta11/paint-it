<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Annotation 1.0</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
        .annotationIsSelected{
        	fill:red !important;
          fill-opacity:0.5;

        }
        #example_id{
        	width: 20%;
        }
        button.active{
	    background: red;
    opacity: 0.5;
}
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.2.0/css/ion.rangeSlider.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.2.0/css/ion.rangeSlider.skinFlat.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    </head>
    <body>
    	<div>
       <div id="container" style="display: flex;justify-content: center;align-items: center;">
       </div>
       <div class="button-container">
       	<button value="1" onclick="changeTool(1,this)">Line</button>
       	<button value="2" onclick="changeTool(2,this)">Rectangle</button>
       	<button value="3" onclick="changeTool(3,this)">Circle</button>
       	<button value="4" onclick="changeTool(4,this)" class="active">Freehand</button>
       	<button value="4" onclick="changeTool(5,this)">Emoji</button>
       	<button onclick="undo()">Undo</button>
       	<input type="text" id="example_id" name="example_name" value="2"/>
       	<button onclick="deleteItem()">Delete</button>
       	<button onclick="deleteAll()">Delete All</button>
       	<input class="jscolor" value="#000000">
       </div>
   </div>
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.2.0/js/ion.rangeSlider.min.js"></script>
  <script src="plugin.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.0.4/jscolor.js"></script>
  <script type="text/javascript">
  	$(function () { 
    var myChart = Highcharts.chart('container', {
        chart: {
            type: 'bar',
            width: $(document).width() - 30,
            height: $(document).height() - 50
        },
        title: {
            text: 'Fruit Consumption'
        },
        xAxis: {
            categories: ['Apples', 'Bananas', 'Oranges']
        },
        yAxis: {
            title: {
                text: 'Fruit eaten'
            }
        },
        series: [{
            name: 'Jane',
            data: [1, 0, 4]
        }, {
            name: 'John',
            data: [5, 7, 3]
        }]
    })
    $('#container').annotate()
});
  </script>
  <script>
  	//Button clicks Handler
  		function changeTool(value,element){
  			$(element).siblings('button').removeClass('active')
			$(element).toggleClass('active')
			$("#container").find('svg').trigger('changeTool',Number(value),Number(value))
}
function undo(){
	$("#container").find('svg').trigger('undo')
}
function deleteItem(){
	var id = $(".annotationIsSelected").attr("id")
	$("#container").find('svg').trigger('delete', id)
}
function deleteAll(){
	$("#container").find('svg').trigger('deleteAll')
}
//ends
</script>
<script>
$(".jscolor").on('change', function(){
	console.log(this.value)
	$("#container").find('svg').trigger('changeColor', "#" + this.value)
})
$("#example_id").on('change', function(){
	console.log(this.value)
	$("#container").find('svg').trigger('changeWidth',this.value + "px")
})

$(document).ready(function(){
$("#example_id").ionRangeSlider({
	min: 1,
	max: 10
});
})
    
</script>
</html>